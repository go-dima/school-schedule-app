{
  "migrations": [
    {
      "id": "001_initial_schema",
      "name": "Initial Schema",
      "description": "Create initial database schema with users, roles, time slots, classes, and selections",
      "file": "001_initial_schema.sql",
      "created_at": "2024-01-01T00:00:00Z",
      "dependencies": []
    },
    {
      "id": "002_rls_policies",
      "name": "RLS Policies",
      "description": "Enable Row Level Security and create security policies",
      "file": "002_rls_policies.sql",
      "created_at": "2024-01-01T00:01:00Z",
      "dependencies": ["001_initial_schema"]
    },
    {
      "id": "003_triggers_functions",
      "name": "Triggers and Functions",
      "description": "Create database functions and triggers",
      "file": "003_triggers_functions.sql",
      "created_at": "2024-01-01T00:02:00Z",
      "dependencies": ["001_initial_schema"]
    },
    {
      "id": "004_sample_data",
      "name": "Sample Data",
      "description": "Insert sample time slots and demo data",
      "file": "004_sample_data.sql",
      "created_at": "2024-01-01T00:03:00Z",
      "dependencies": ["001_initial_schema", "003_triggers_functions"]
    },
    {
      "id": "005_fix_classes_rls_policy",
      "name": "Fix Classes RLS Policy",
      "description": "Update RLS policy for classes table to allow proper access",
      "file": "005_fix_classes_rls_policy.sql",
      "created_at": "2024-01-01T00:04:00Z",
      "dependencies": ["002_rls_policies"]
    },
    {
      "id": "006_support_multiple_grades",
      "name": "Support Multiple Grades",
      "description": "Change classes.grade from single integer to array of integers",
      "file": "006_support_multiple_grades.sql",
      "created_at": "2024-01-01T00:05:00Z",
      "dependencies": ["001_initial_schema"]
    },
    {
      "id": "007_add_scope_to_classes",
      "name": "Add Scope to Classes",
      "description": "Add scope column to classes table for test/prod separation",
      "file": "007_add_scope_to_classes.sql",
      "created_at": "2024-01-01T00:06:00Z",
      "dependencies": ["006_support_multiple_grades"]
    }
  ],
  "version": "1.0.0",
  "schema_version": 7
}